import{g as j}from"./image-params-keymap.js";import{jsx as o}from"../preact-jsx-runtime.js";import{k as d}from"./icons/Add.js";const C=e=>{const r=new FormData(e);return Object.fromEntries(r)},q=e=>{const r=new FormData(e),t=Object.fromEntries(r);return Object.entries(t).reduce((a,[c])=>{const s=e.elements[c];return s!=null&&s.validationMessage?{...a,[c]:s.validationMessage}:{...a}},{})},p=e=>e.reduce((t,n)=>{if(!n)return t;if(typeof n=="string"&&(t+=` ${n}`),Array.isArray(n)){const[a,c]=n;a&&c&&(t+=` ${a}`)}return t},"").trim();function M(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A=function(r){return h(r)&&!E(r)};function h(e){return!!e&&typeof e=="object"}function E(e){var r=Object.prototype.toString.call(e);return r==="[object RegExp]"||r==="[object Date]"||I(e)}var w=typeof Symbol=="function"&&Symbol.for,S=w?Symbol.for("react.element"):60103;function I(e){return e.$$typeof===S}function N(e){return Array.isArray(e)?[]:{}}function l(e,r){return r.clone!==!1&&r.isMergeableObject(e)?u(N(e),e,r):e}function v(e,r,t){return e.concat(r).map(function(n){return l(n,t)})}function P(e,r){if(!r.customMerge)return u;var t=r.customMerge(e);return typeof t=="function"?t:u}function T(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(r){return Object.propertyIsEnumerable.call(e,r)}):[]}function b(e){return Object.keys(e).concat(T(e))}function g(e,r){try{return r in e}catch{return!1}}function $(e,r){return g(e,r)&&!(Object.hasOwnProperty.call(e,r)&&Object.propertyIsEnumerable.call(e,r))}function x(e,r,t){var n={};return t.isMergeableObject(e)&&b(e).forEach(function(a){n[a]=l(e[a],t)}),b(r).forEach(function(a){$(e,a)||(g(e,a)&&t.isMergeableObject(r[a])?n[a]=P(a,t)(e[a],r[a],t):n[a]=l(r[a],t))}),n}function u(e,r,t){t=t||{},t.arrayMerge=t.arrayMerge||v,t.isMergeableObject=t.isMergeableObject||A,t.cloneUnlessOtherwiseSpecified=l;var n=Array.isArray(r),a=Array.isArray(e),c=n===a;return c?n?t.arrayMerge(e,r,t):x(e,r,t):l(r,t)}u.all=function(r,t){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(n,a){return u(n,a,t)},{})};var D=u,F=D;const B=M(F),L=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),r)}},y={medium:768,large:1024,xlarge:1366,xxlarge:1920},U=(e,r)=>{const[t,n]=e.split("?"),a=new URLSearchParams(n),c=j();let s={};return c&&Object.keys(c).length>0&&r?s=Object.entries(r).reduce((f,[i,O])=>{const m=c[i];return m&&(f[m]=O),f},{}):s={auto:"webp",quality:80,crop:!1,fit:"cover",...r},Object.entries(s).forEach(([f,i])=>{i!=null&&a.set(f,String(i))}),`${t}?${a.toString()}`},W=(e,r)=>{if(!e||!(r!=null&&r.width))return;const t=n=>U(e,{...n});return Object.entries(y).map(([,n])=>{const a=r.width*n/y.xxlarge;return`${t({...r,width:a})} ${n}w`}).join(`,
`)};function K({node:e,...r}){return e?Array.isArray(e)?o(d,{children:e.map((t,n)=>o(K,{node:t,className:r.className,...r},n))}):(r.className=p([e.props.className,r.className]),o(e.type,{ref:e.ref,...e.props,...r},e.key)):null}export{K as V,q as a,L as b,p as c,B as d,W as e,C as g};
