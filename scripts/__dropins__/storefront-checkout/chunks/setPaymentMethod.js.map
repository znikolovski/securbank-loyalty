{"version":3,"file":"setPaymentMethod.js","sources":["../../src/api/setPaymentMethod/graphql/setPaymentMethod.graphql.ts","../../src/api/setPaymentMethod/setPaymentMethod.ts"],"sourcesContent":["import {\n  CART_DATA_FRAGMENT,\n  CART_SUMMARY_FRAGMENT,\n} from '@/checkout/api/getCart/graphql/getCart.graphql';\n\nexport const setPaymentMethodMutation = /* GraphQL */ `\n  mutation setPaymentMethod($cartId: String!, $paymentMethod: String!) {\n    setPaymentMethodOnCart(\n      input: { cart_id: $cartId, payment_method: { code: $paymentMethod } }\n    ) {\n      cart {\n        id\n        ...CartData\n        ...CartSummaryItems\n      }\n    }\n  }\n  ${CART_DATA_FRAGMENT}\n  ${CART_SUMMARY_FRAGMENT}\n`;\n","import { MissingCart, MissingPaymentMethod } from '@/checkout/api/errors';\nimport { setPaymentMethodMutation } from '@/checkout/api/setPaymentMethod/graphql/setPaymentMethod.graphql';\nimport { dispatchApiCall } from '@/checkout/api/utils/dispatchApiCall';\nimport { transformCart } from '@/checkout/data/transforms/index';\n\nexport const setPaymentMethod = async ({\n  cartId,\n  paymentMethod,\n}: {\n  cartId: string;\n  paymentMethod: string;\n}) => {\n  if (!cartId) throw new MissingCart();\n  if (!paymentMethod) throw new MissingPaymentMethod();\n\n  return await dispatchApiCall({\n    type: 'mutation',\n    query: setPaymentMethodMutation,\n    options: { variables: { cartId, paymentMethod } },\n    path: 'setPaymentMethodOnCart.cart',\n    signalType: 'cart',\n    transformer: transformCart,\n  });\n};\n"],"names":["setPaymentMethodMutation","CART_DATA_FRAGMENT","CART_SUMMARY_FRAGMENT","setPaymentMethod","cartId","paymentMethod","MissingCart","MissingPaymentMethod","dispatchApiCall","type","query","options","variables","path","signalType","transformer","transformCart"],"mappings":"qJAKaA,MAAAA,EAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYlDC,CAAkB;AAAA,IAClBC,CAAqB;AAAA,ECbZC,EAAmB,MAAO,CACrCC,OAAAA,EACAC,cAAAA,CAIF,IAAM,CACJ,GAAI,CAACD,EAAQ,MAAM,IAAIE,EACvB,GAAI,CAACD,EAAe,MAAM,IAAIE,EAE9B,OAAO,MAAMC,EAAgB,CAC3BC,KAAM,WACNC,MAAOV,EACPW,QAAS,CAAEC,UAAW,CAAER,OAAAA,EAAQC,cAAAA,CAAc,CAAE,EAChDQ,KAAM,8BACNC,WAAY,OACZC,YAAaC,CAAAA,CACd,CACH"}