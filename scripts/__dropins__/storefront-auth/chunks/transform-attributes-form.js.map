{"version":3,"file":"transform-attributes-form.js","sources":["../../src/data/transforms/transform-attributes-form.ts"],"sourcesContent":["import { getAttributesFormResponse } from '@/auth/types';\nimport { AttributesFormModel } from '../models';\n\nexport const transformAttributesForm = (\n  response: getAttributesFormResponse\n): AttributesFormModel => {\n  const attributesForm = response?.data?.attributesForm;\n\n  if (attributesForm?.errors?.length) return { errors: attributesForm.errors };\n\n  const items = attributesForm?.items || [];\n\n  const fields = items\n    ?.map(\n      ({\n        default_value,\n        frontend_input,\n        frontend_class,\n        is_required,\n        code,\n        ...other\n      }) => {\n        const initialCodeList = ['email', 'firstname', 'lastname'];\n\n        let orderNumber =\n          initialCodeList.findIndex((el) => el === code) + 1 || 5;\n\n        return {\n          ...other,\n          defaultValue: default_value || '',\n          fieldType: frontend_input || '',\n          className: frontend_class || '',\n          required: is_required || false,\n          orderNumber,\n          name: code,\n          id: code,\n          code,\n        };\n      }\n    )\n    .sort((a: any, b: any) => a.orderNumber - b.orderNumber);\n\n  return {\n    fields,\n  };\n};\n"],"names":["transformAttributesForm","response","attributesForm","data","errors","length","items","fields","map","default_value","frontend_input","frontend_class","is_required","code","other","orderNumber","findIndex","el","defaultValue","fieldType","className","required","name","id","sort","a","b"],"mappings":"AAGaA,MAAAA,EACXC,GACwB,CAFbD,IAAAA,EAAAA,EAGLE,MAAAA,GAAiBD,EAAAA,GAAAA,YAAAA,EAAUE,OAAVF,YAAAA,EAAgBC,eAEvC,IAAIA,EAAAA,GAAAA,YAAAA,EAAgBE,SAAhBF,MAAAA,EAAwBG,OAAe,MAAA,CAAED,OAAQF,EAAeE,MAAAA,EAE9DE,MAAAA,GAAQJ,GAAAA,YAAAA,EAAgBI,QAAS,GAgChC,MAAA,CACLC,OA/BaD,GAAAA,YAAAA,EACXE,IACA,CAAC,CACCC,cAAAA,EACAC,eAAAA,EACAC,eAAAA,EACAC,YAAAA,EACAC,KAAAA,EACA,GAAGC,CAAAA,IACC,CAGJ,IAAIC,EAFoB,CAAC,QAAS,YAAa,UAAU,EAGvCC,aAAkBC,IAAOJ,CAAI,EAAI,GAAK,EAEjD,MAAA,CACL,GAAGC,EACHI,aAAcT,GAAiB,GAC/BU,UAAWT,GAAkB,GAC7BU,UAAWT,GAAkB,GAC7BU,SAAUT,GAAe,GACzBG,YAAAA,EACAO,KAAMT,EACNU,GAAIV,EACJA,KAAAA,CAAAA,CACF,GAGHW,KAAK,CAACC,EAAQC,IAAWD,EAAEV,YAAcW,EAAEX,YAG5CR,CAEJ"}