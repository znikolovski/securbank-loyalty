{"version":3,"file":"network-error.js","sources":["../../src/api/fetch-graphql/fetch-graphql.ts","../../src/lib/network-error.ts"],"sourcesContent":["import { FetchGraphQL } from '@adobe/fetch-graphql';\n\nexport const {\n  setEndpoint,\n  setFetchGraphQlHeader,\n  removeFetchGraphQlHeader,\n  setFetchGraphQlHeaders,\n  fetchGraphQl,\n  getConfig,\n} = new FetchGraphQL().getMethods();\n","import { events } from '@adobe/event-bus';\n\n/**\n * A function which can be attached to fetchGraphQL to handle thrown errors in\n * a generic way.\n */\nexport const handleNetworkError = (error: Error) => {\n  const isAbortError =\n    error instanceof DOMException && error.name === 'AbortError';\n\n  if (!isAbortError) {\n    events.emit('error', {\n      source: 'auth',\n      type: 'network',\n      error,\n    });\n  }\n  throw error;\n};\n"],"names":["setEndpoint","setFetchGraphQlHeader","removeFetchGraphQlHeader","setFetchGraphQlHeaders","fetchGraphQl","getConfig","FetchGraphQL","getMethods","handleNetworkError","error","DOMException","name","events","emit","source","type"],"mappings":"oHAEa,KAAA,CACXA,YAAAA,EACAC,sBAAAA,EACAC,yBAAAA,EACAC,uBAAAA,EACAC,aAAAA,EACAC,UAAAA,CACF,EAAI,IAAIC,EAAa,EAAEC,WAAW,ECHrBC,EAAsBC,GAAiB,CAIlD,MAFEA,aAAiBC,cAAgBD,EAAME,OAAS,cAGhDC,EAAOC,KAAK,QAAS,CACnBC,OAAQ,OACRC,KAAM,UACNN,MAAAA,CAAAA,CACD,EAEGA,CACR"}